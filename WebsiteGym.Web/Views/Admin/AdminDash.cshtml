@{ 
     Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>
<html>
<head>
     <meta charset="utf-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>@ViewBag.Title - Gym Admin</title>
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
     <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
     <link rel="stylesheet" href="@Url.Content("~/Content/admin_style.css")">
</head>
<body>
     <div class="container-fluid py-4">
          <h1 class="admin-section-title">Admin Dashboard</h1>

          <!-- Stats Overview -->
          <div class="admin-section">
               <h2 class="h4 mb-4">Overview</h2>
               <div class="row">
                   <div class="col-md-3 col-sm-6 admin-card">
                       <div class="stat-card bg-primary text-white">
                           <div class="stat-icon">
                               <i class="fas fa-users" style=""></i>
                           </div>
                           <div class="stat-value">
                               <h2>
                                   @ViewBag.UsersNumber
                               </h2>
                           </div>
                           <div class="stat-label">Total Users</div>
                       </div>
                   </div>
                   <div class="col-md-3 col-sm-6 admin-card">
                       <div class="stat-card bg-success text-white" style="text-decoration: none; cursor: default;">
                           <div class="stat-icon">
                               <i class="fas fa-id-card"></i>
                           </div>
                           <div class="stat-value">
                               <h2>@ViewBag.ActiveMemberships</h2>
                           </div>
                           <div class="stat-label">Active Memberships</div>
                       </div>
                   </div>

                   <div class="col-md-3 col-sm-6 admin-card">
                       <div class="stat-card bg-info text-white">
                           <div class="stat-icon">
                               <i class="fas fa-dollar-sign"></i>
                           </div>
                           <div class="stat-value">
                               <h2>
                                   @ViewBag.TotalIncome
                               </h2>
                           </div>
                           <div class="stat-label">Total Revenue</div>
                       </div>
                   </div>
                   <div class="col-md-3 col-sm-6 admin-card">
                       <div class="stat-card bg-warning text-white">
                           <div class="stat-icon">
                               <i class="fas fa-comments"></i>
                           </div>
                           <div class="stat-value">
                               <h2>
                                   @ViewBag.TotalFeedbacks
                               </h2>
                           </div>
                           <div class="stat-label">Pending Feedbacks</div>
                       </div>
                   </div>

               </div>
          </div>

          <!-- Website Management -->
          <div class="admin-section">
               <h2 class="h4 mb-4">Website Management</h2>
               <div class="row">
                    <div class="col-md-4">
                         <a href="@Url.Action("ManageCoaches", "Admin")" class="btn btn-primary website-mgmt-btn w-100">
                              <i class="fas fa-dumbbell"></i>  Manage Coaches
                         </a>
                    </div>
                    <div class="col-md-4">
                        <a href="@Url.Action("ManageMemberships", "Admin")" class="btn btn-success website-mgmt-btn w-100">
                            <i class="fas fa-tags"></i> Manage Membership Plans
                        </a>
                    </div>
                    <div class="col-md-4">
                         <a href="@Url.Action("ManageDiscountCodes", "Admin")" class="btn btn-info website-mgmt-btn w-100 text-white">
                              <i class="fas fa-calendar-alt"></i> Manage Discount Codes
                         </a>
                    </div>
               </div>
               <div class="row">
                    <div class="col-md-4">
                         <a href="@Url.Action("ListOfFeedbacks", "Admin")" class="btn btn-warning website-mgmt-btn w-100">
                              <i class="fas fa-comments"></i> List of Feedbacks
                         </a>
                    </div>
                    <div class="col-md-4">
                         <a href="@Url.Action("ListOfActiveMemberships", "Admin")" class="btn btn-danger website-mgmt-btn w-100">
                              <i class="fas fa-id-card"></i> Active Memberships
                         </a>
                    </div>
                    <div class="col-md-4">
                         <a href="@Url.Action("ListOfOrders", "Admin")" class="btn btn-secondary website-mgmt-btn w-100">
                              <i class="fas fa-receipt"></i> Orders List
                         </a>
                    </div>
               </div>
          </div>

          <!-- Quick Actions -->
          <div class="admin-section">
               <h2 class="h4 mb-4">Quick Actions</h2>
               <div class="row" style="position:center">
                    <div class="col-md-3 col-sm-6 admin-card">
                         <a href="@Url.Action("ListOfUsers", "Admin")" class="text-decoration-none">
                              <div class="action-card bg-light">
                                   <div class="action-icon text-primary">
                                        <i class="fas fa-user-cog"></i>
                                   </div>
                                   <h3 class="h5">Manage Users</h3>
                                   <p class="text-muted">View and edit user accounts</p>
                              </div>
                         </a>
                    </div>
                    <div class="col-md-3 col-sm-6 admin-card">
                         <a href="@Url.Action("ListOfFeedbacks", "Admin")" class="text-decoration-none">
                              <div class="action-card bg-light">
                                   <div class="action-icon text-info">
                                        <i class="fas fa-comments"></i>
                                   </div>
                                   <h3 class="h5">Feedbacks</h3>
                                   <p class="text-muted">Review user feedbacks</p>
                              </div>
                         </a>
                    </div>
                    <div class="col-md-3 col-sm-6 admin-card">
                         <a href="@Url.Action("ManageMemberships", "Admin")" class="text-decoration-none">
                              <div class="action-card bg-light">
                                   <div class="action-icon text-success">
                                        <i class="fas fa-tags"></i>
                                   </div>
                                   <h3 class="h5">Memberships</h3>
                                   <p class="text-muted">Manage site memberships</p>
                              </div>
                         </a>
                    </div>
                    <div class="col-md-3 col-sm-6 admin-card">
                         <a href="@Url.Action("Logout", "Account")" class="text-decoration-none">
                              <div class="action-card bg-light">
                                   <div class="action-icon text-warning">
                                        <i class="fas fa-sign-out-alt me-3 text-danger"></i>
                                   </div>
                                   <h3 class="h5">Log Out</h3>
                                   <p class="text-muted">Log out of the admin account</p>
                              </div>
                         </a>
                    </div>
               </div>
          </div>

          <!-- Recent Activity -->
          <div class="admin-section">
               <h2 class="h4 mb-4">Recent Activity</h2>
               <div class="admin-card">
                    <div class="card-body">
                         <div class="table-responsive">
                              <table class="table">
                                   <thead>
                                        <tr>
                                             <th>User</th>
                                             <th>Action</th>
                                             <th>Date</th>
                                        </tr>
                                   </thead>
                                   <tbody>
                                       
                                        @if (ViewBag.TotalEvents != null && ViewBag != null)
                                        {
                                             foreach (var evt in ViewBag.TotalEvents)
                                             {
                                                  <tr>
                                                       <td>@evt.UserName</td>
                                                       <td>@evt.Action</td>
                                                       <td>@evt.EventTime.ToString("dd/MM/yyyy")</td>
                                                  </tr>
                                             }
                                        }
                                        else
                                        {
                                             <tr>
                                                  <td colspan="3" class="text-center text-muted">No recent activity found.</td>
                                             </tr>
                                        }
                                   </tbody>
                              </table>
                         </div>
                    </div>
               </div>
          </div>
     </div>

     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>