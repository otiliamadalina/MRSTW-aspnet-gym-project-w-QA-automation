
@using WebsiteGym.Web.Models;
@model EditUserProfileDTO

<head>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<div class="container py-5">
     <div class="row">

          <div class="col-md-9">
               <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                         <h4 class="mb-0">Edit User Information</h4>
                    </div>
                    <div class="card-body">
                         <div class="alert alert-info">
                              <i class="fas fa-info-circle mr-2"></i> Each field can be updated individually by clicking the "Update" button next to it.
                         </div>

                         <form action="@Url.Action("EditUserProfile", "Account")" method="post" enctype="multipart/form-data">
                              @Html.AntiForgeryToken()
                              @Html.HiddenFor(m => m.Id)

                              <div class="alert alert-info">
                                   <i class="fas fa-info-circle mr-2"></i> You can update all fields below and click "Save Changes".
                              </div>

                              <!-- User Name -->
                              <div class="card mb-4">
                                   <div class="card-header"><h5 class="mb-0">User Name</h5></div>
                                   <div class="card-body">
                                        @Html.TextBoxFor(m => m.UserName, new { @class = "form-control", required = "required" })
                                   </div>
                              </div>

                              <!-- Full Name -->
                              <div class="card mb-4">
                                   <div class="card-header"><h5 class="mb-0">Full Name</h5></div>
                                   <div class="card-body">
                                        @Html.TextBoxFor(m => m.FullName, new { @class = "form-control"})
                                   </div>
                              </div>

                              <!-- Email -->
                              <div class="card mb-4">
                                   <div class="card-header"><h5 class="mb-0">Email Address</h5></div>
                                   <div class="card-body">
                                        @Html.TextBoxFor(m => m.Email, new { @class = "form-control", type = "email", required = "required" })
                                   </div>
                              </div>

                              <!-- Phone Number -->
                              <div class="card mb-4">
                                   <div class="card-header"><h5 class="mb-0">Phone Number</h5></div>
                                   <div class="card-body">
                                        @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "form-control", type = "tel" })
                                   </div>
                              </div>

                              <!-- Profile Picture -->
                              <div class="card mb-4">
                                   <div class="card-header"><h5 class="mb-0">Profile Picture</h5></div>
                                   <div class="card-body">
                                        <div class="form-group">
                                             <div class="custom-file">
                                                  <input type="file" class="custom-file-input" id="ProfilePicture" name="ProfilePicture" accept="image/*">
                                                  <label class="custom-file-label" for="ProfilePicture">Choose file</label>
                                             </div>
                                             <small class="form-text text-muted">Accepted formats: JPG, PNG, GIF. Max size: 5MB.</small>
                                        </div>
                                   </div>
                              </div>

                              <div class="text-right">
                                   <button type="submit" class="btn btn-success">
                                        <i class="fas fa-save mr-2"></i> Save Changes
                                   </button>
                              </div>
                         </form>
                    </div>
               </div>
          </div>
     </div>
</div>

@section Scripts {
     <script>
          $(document).ready(function () {
               // Update file input label with selected filename
               $('.custom-file-input').on('change', function () {
                    var fileName = $(this).val().split('\\').pop();
                    $(this).next('.custom-file-label').html(fileName);
               });

          });
     </script>
}